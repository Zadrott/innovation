{"version":3,"sources":["assets/help.svg","containers/SliderApi.js","components/Paging.js","components/Slider.js","components/Message.js","components/Monitoring.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","SliderApi","state","isSuccess","isFetching","isFailure","sliders","_this2","this","fetch","then","res","json","data","setState","_this$state","props","children","React","Component","Paging","_this$props","currentIndex","nSlides","react_default","a","createElement","RootStyled","concat","styled","div","_templateObject","Slider","renderSlides","slides","slideWidth","length","map","slide","index","react","Slide","key","toString","renderPaging","components_Paging","onIndexChange","Slider_RootStyled","Scene","sliderWidth","Slider_templateObject","_templateObject2","x","y","_templateObject3","colors","Message","message","questions","isOpen","handleInput","e","_this","target","value","handleSendMessage","sendMessage","prevState","Object","toConsumableArray","handleKeyPress","event","renderHeader","Header","onClick","Infos","Icon","Message_QuestionIcon","renderMain","Main","Questions","question","Question","renderFooter","Footer","Container","Input","placeholder","onChange","onKeyPress","SendButton","NChar","Message_RootStyled","Message_templateObject","Message_templateObject2","input","Message_templateObject3","_templateObject4","_templateObject5","_templateObject6","_templateObject7","_templateObject8","_templateObject9","_templateObject10","QuestionIcon","alt","src","questionMark","width","height","style","color","_templateObject11","_templateObject12","Monitoring","_this$props$infos","infos","alpha","beta","gamma","Monitoring_RootStyled","toFixed","Monitoring_templateObject","App","windowHeight","window","innerHeight","windowWidth","innerWidth","hasWindowResized","screenWidth","screenHeight","slideIndex","isPointerDisplayed","screenRef","createRef","endpoint","socket","socketIOClient","updateScreenDimensions","_this$screenRef$curre","current","clientHeight","clientWidth","updateWindowDimensions","renderSlider","slidesWithoutQuestions","App_Slide","slideBackground","questionsSlides","App_Question","slidesWithQuestions","components_Slider","renderScreen","i_x","i_y","Screen","ref","Cursor","Aim","containers_SliderApi","renderMessage","components_Message","console","log","emit","renderMonitoring","components_Monitoring","addEventListener","on","display","removeEventListener","App_RootStyled","App_templateObject","App_templateObject2","App_templateObject3","App_templateObject4","App_templateObject5","App_templateObject6","Boolean","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.567bcaac.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/help.71578607.svg\";","// @flow\nimport React from 'react';\n\nexport type SliderType = {\n  id: string,\n  url: string,\n};\n\ntype State = {\n  isSuccess: boolean,\n  isFetching: boolean,\n  isFailure: boolean,\n  sliders: ?Array<SliderType>,\n};\n\ntype Props = {\n  children: Function,\n};\n\nclass SliderApi extends React.Component<Props, State> {\n  state = {\n    isSuccess: true,\n    isFetching: true,\n    isFailure: false,\n    sliders: null,\n  };\n\n  componentDidMount() {\n    fetch('/slides')\n      .then(res => res.json())\n      .then(data => {\n        this.setState({isFetching: false, sliders: data});\n      });\n  }\n\n  render() {\n    const {isSuccess, isFetching, isFailure, sliders} = this.state;\n    if (isFetching) return null;\n    if (isFailure) return null;\n\n    return isSuccess && this.props.children(sliders);\n  }\n}\n\nexport default SliderApi;\n","// @flow\n\nimport React from 'react';\nimport styled from '@emotion/styled';\n\ntype Props = {\n  nSlides: number,\n  currentIndex: number,\n};\n\nclass Paging extends React.Component<Props> {\n  render() {\n    const {currentIndex, nSlides} = this.props;\n    return <RootStyled>{`${currentIndex + 1} / ${nSlides}`}</RootStyled>;\n  }\n}\n\nconst RootStyled = styled.div`\n  display: flex;\n  flex-direction: column;\n\n  position: absolute;\n  top: 140px;\n  right: 30px;\n  width: 100px;\n  text-align:center;\n\n  padding: 4px;\n\n  color: white;\n  background: rgba(0, 0, 0, 0.6);\n  font-size: small;\n`;\n\nexport default Paging;\n","// @flow\n\nimport * as React from 'react';\nimport styled from '@emotion/styled';\n\nimport Paging from './Paging';\n\ntype ReactElement = React.Element;\n\ntype Props = {\n  slides: Array<ReactElement>,\n  index: number,\n};\n\nclass Slider extends React.Component<Props> {\n  renderSlides = (slides: Array<ReactElement>) => {\n    const slideWidth = 100 / slides.length;\n    return slides.map((slide, index) => (\n      <Slide slideWidth={slideWidth} key={index.toString()}>\n        {slide}\n      </Slide>\n    ));\n  };\n\n  renderPaging = (currentIndex, nSlides) => (\n    <Paging currentIndex={currentIndex} nSlides={nSlides} />\n  );\n\n  onIndexChange= (index,nSlides) => {\n    if(index> nSlides){\n      return nSlides\n    }\n    if(index < 0){\n      return 0\n    }\n    return index\n  }\n\n  render() {\n    const {slides, index} = this.props;\n    const nSlides = slides.length;\n    return (\n      <RootStyled>\n        <Scene index={this.onIndexChange(index, nSlides)} sliderWidth={nSlides * 100}>\n          {this.renderSlides(slides)}\n        </Scene>\n        {this.renderPaging(index, nSlides)}\n      </RootStyled>\n    );\n  }\n}\n\nconst Slide = styled.div`\n  height: 100%;\n  width: ${props => props.slideWidth}%;\n  margin: 4px;\n`;\n\nconst Scene = styled.div`\n\tposition: relative;\n\tleft: ${props => -props.index * 100}%;\n  display: flex;\n  justify-content: center;\n\talign-items: center;\n  width: ${props => props.sliderWidth}%;\n\theight: 100%;\n\n\ttransition: left 0.5s ease-in-out;\n  // transform: ${props => `translate3d(${props.x}px,${props.y}px,0)`};\n`;\n\nconst RootStyled = styled.div`\n  position: relative;\n  z-index: 0;\n\n  height: 100%;\n  width: 100%;\n  paddin-top: 75%;\n`;\n\nexport default Slider;\n","// @flow\nimport React from 'react';\nimport styled from '@emotion/styled';\nimport questionMark from '../assets/help.svg';\n\nconst colors = {\n  green: 'rgb( 3, 178, 141 )',\n  gray: 'rgb( 90, 90, 90 )',\n  white: 'white',\n};\n\ntype Props = {\n  sendMessage: (message: string) => void,\n};\n\ntype State = {\n  message: string,\n  questions: Array<string>,\n  isOpen: boolean,\n};\n\nclass Message extends React.Component<Props, State> {\n  state = {\n    message: '',\n    questions: [],\n    isOpen: false,\n  };\n\n  handleInput = e => {\n    this.setState({\n      message: e.target.value,\n    });\n  };\n\n  handleSendMessage = (message: string) => {\n    this.props.sendMessage(message);\n    this.setState(\n      prevState => ({\n        questions: [...prevState.questions, message],\n      }),\n      () => this.setState({message: ''}),\n    );\n  };\n\n  handleKeyPress = event => {\n    if (event.key === 'Enter') {\n      this.handleSendMessage(this.state.message);\n    }\n  };\n\n  renderHeader = () => {\n    const infos = `Poser une question`;\n    return (\n      <Header\n        onClick={() =>\n          this.setState(prevState => ({isOpen: !prevState.isOpen}))\n        }>\n        <Infos>{infos}</Infos>\n        <Icon>\n          <QuestionIcon />\n        </Icon>\n      </Header>\n    );\n  };\n\n  renderMain = (questions: Array<string>) => {\n    return (\n      <Main>\n        <Questions>\n          {questions.map((question, index) => (\n            <Question key={index.toString()}>{question}</Question>\n          ))}\n        </Questions>\n      </Main>\n    );\n  };\n\n  renderFooter = (message: string) => {\n    return (\n      <Footer>\n        <Container>\n          <Input\n            value={message}\n            placeholder={'Posez moi une question'}\n            onChange={this.handleInput}\n            onKeyPress={this.handleKeyPress}\n          />\n          <SendButton onClick={() => this.handleSendMessage(message)} />\n        </Container>\n        <NChar>{`${message.length} caract√®res`}</NChar>\n      </Footer>\n    );\n  };\n\n  render() {\n    const {message, questions, isOpen} = this.state;\n    return (\n      <RootStyled isOpen={isOpen}>\n        {this.renderHeader()}\n        {this.renderMain(questions)}\n        {this.renderFooter(message)}\n      </RootStyled>\n    );\n  }\n}\n\nconst Questions = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 8px;\n`;\n\nconst Question = styled.div``;\n\nconst Input = styled.input`\n  flex: 1;\n  margin-right: 8px;\n  padding: 8px;\n`;\n\nconst Infos = styled.div`\n  color: ${colors.white};\n  padding: 8px;\n  // margin: 8px;\n`;\n\nconst SendButton = styled.div`\n  width: 36px;\n  height: 36px;\n  border-radius: 8px;\n  background: ${colors.green};\n  cursor: pointer;\n`;\n\nconst Container = styled.div`\n  display: flex;\n  padding: 8px;\n`;\n\nconst NChar = styled.div`\n  padding: 8px;\n`;\n\nconst HEADER_HEIGHT = 50;\n\nconst Header = styled.div`\n  display: flex;\n  align-items: center;\n\n  position: relative;\n  height: ${HEADER_HEIGHT}px;\n  border-top-left-radius: 8px;\n  border-top-right-radius: 8px;\n  background: ${colors.green};\n\n  cursor: pointer;\n`;\n\nconst Main = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  background: rgba(250, 250, 250, 0.8);\n`;\n\nconst Footer = styled.div`\n  height: 90px;\n  background: rgba(250, 250, 250, 0.8);\n`;\n\nconst QuestionIcon = props => (\n  <img\n    alt=\"question\"\n    src={questionMark}\n    width=\"40\"\n    height=\"40\"\n    style={{color: 'white'}}\n  />\n);\n\nconst Icon = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  position: absolute;\n  top: -30px;\n  right: 18px;\n  z-index: 999;\n\n  width: 60px;\n  height: 60px;\n\n  background: ${colors.green};\n\n  border-radius: 100%;\n  user-select: none;\n`;\n\nconst MESSAGE_HEIGHT = 300;\n\nconst RootStyled = styled.div`\n  display: flex;\n  flex-direction: column;\n\n  position: absolute;\n  z-index: 999;\n  bottom: ${props => (props.isOpen ? 0 : -(MESSAGE_HEIGHT - HEADER_HEIGHT))}px;\n  right: 0;\n\n  width: 300px;\n  height: ${MESSAGE_HEIGHT}px;\n\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);\n  transition: bottom 0.35s ease-in-out;\n`;\n\nexport default Message;\n","// @flow\n\nimport React from 'react';\nimport styled from '@emotion/styled';\n\ntype Props = {\n  infos: {\n    alpha: number,\n    beta: number,\n    gamma: number,\n    x: number,\n    y: number,\n  },\n};\n\nclass Monitoring extends React.Component<Props> {\n  render() {\n    const {alpha, beta, gamma, x, y} = this.props.infos;\n    return (\n      <RootStyled>\n        <span>alpha: {alpha}</span>\n        <span>beta: {beta}</span>\n        <span>gamma: {gamma}</span>\n        <span>x: {x.toFixed(2)}</span>\n        <span>y: {y.toFixed(2)}</span>\n      </RootStyled>\n    );\n  }\n}\n\nconst RootStyled = styled.div`\n  position: absolute;\n  bottom: 10px;\n  left: 10px;\n  display: flex;\n  flex-direction: column;\n  width: 84px;\n  padding: 4px;\n  right: 10px;\n  width: 100px;\n  color: white;\n  background: rgba(0, 0, 0, 0.6);\n  font-size: small;\n`;\n\nexport default Monitoring;\n","import React from 'react';\nimport './App.css';\nimport styled from '@emotion/styled';\nimport socketIOClient from 'socket.io-client';\n\nimport SliderApi from './containers/SliderApi';\nimport Slider from './components/Slider';\nimport Message from './components/Message';\nimport Monitoring from './components/Monitoring';\n\nclass App extends React.Component {\n  state = {\n    alpha: null,\n    beta: null,\n    gamma: null,\n    x: 20,\n    y: 20,\n    windowHeight: window.innerHeight,\n    windowWidth: window.innerWidth,\n    hasWindowResized: false,\n    screenWidth: 0,\n    screenHeight: 0,\n    slideIndex: 0,\n    isPointerDisplayed: false,\n    questions: [],\n  };\n\n  screenRef = React.createRef();\n  endpoint = '/screen';\n  socket = socketIOClient(this.endpoint);\n\n  componentDidMount() {\n    this.updateWindowDimensions();\n    window.addEventListener('resize', this.updateWindowDimensions);\n\n    this.socket.on('position', data => {\n      const {alpha, beta, gamma, x, y} = data;\n      this.setState({alpha, beta, gamma, x, y});\n    });\n\n    this.socket.on('questions', data => {\n      console.log(data);\n      this.setState({questions: data});\n    });\n\n    this.socket.on('slideIndex', data => {\n      this.setState({slideIndex: data});\n    });\n\n    this.socket.on('display', data => {\n      this.setState({ isPointerDisplayed: data.display });\n    });\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.updateWindowDimensions);\n  }\n\n  updateScreenDimensions = () => {\n    const {\n      current: {clientHeight, clientWidth},\n    } = this.screenRef;\n\n    this.setState({\n      screenWidth: clientWidth,\n      screenHeight: clientHeight,\n    });\n  };\n\n  updateWindowDimensions = () => {\n    this.setState(\n      {\n        windowHeight: window.innerHeight,\n        windowWidth: window.innerWidth,\n      },\n      () => this.updateScreenDimensions(),\n    );\n  };\n\n  renderSlider = (slides, slideIndex, questions) => {\n    const slidesWithoutQuestions = slides.map(slide => (\n      <Slide key={slide} slideBackground={slide} />\n    ));\n    const questionsSlides = questions.map(question => (\n      <Slide key={question.message} slideBackground={'slides/background.png'}>\n        <Question>{question.message}</Question>\n      </Slide>\n    ));\n    const slidesWithQuestions = [...slidesWithoutQuestions, ...questionsSlides];\n    return <Slider index={slideIndex} slides={slidesWithQuestions} />;\n  };\n\n  renderScreen = (slideIndex, i_x, i_y, questions, isPointerDisplayed) => {\n    return (\n      <Screen ref={this.screenRef}>\n        {isPointerDisplayed && (\n          <Cursor x={i_x} y={i_y}>\n            <Aim />\n          </Cursor>\n        )}\n        <SliderApi>\n          {slides => this.renderSlider(slides, slideIndex, questions)}\n        </SliderApi>\n      </Screen>\n    );\n  };\n\n  renderMessage = () => (\n    <Message\n      sendMessage={message => {\n        console.log(message);\n        this.socket.emit('message', {message: message});\n      }}\n    />\n  );\n\n  renderMonitoring = (alpha, beta, gamma, x, y) => {\n    return <Monitoring infos={{alpha, beta, gamma, x, y}}/>;\n  };\n\n  render() {\n    const {\n      alpha,\n      beta,\n      gamma,\n      x,\n      y,\n      screenWidth,\n      screenHeight,\n      slideIndex,\n      isPointerDisplayed,\n      questions,\n    } = this.state;\n    const i_x = (screenWidth * x) / 200 + screenWidth / 2;\n    const i_y = (screenHeight * y) / 200 + screenHeight / 2;\n\n    return (\n      <RootStyled>\n        {this.renderScreen(slideIndex, i_x, i_y, questions, isPointerDisplayed)}\n        {this.renderMonitoring(alpha, beta, gamma, x, y)}\n        {this.renderMessage()}\n      </RootStyled>\n    );\n  }\n}\n\nconst Slide = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  background-size: cover;\n  background-image: url(${props => props.slideBackground});\n  border-radius: 15px;\n  border: 1px solid #9999ff;\n  box-shadow: 2px 5px 5px #ccccff;\n`;\n\nconst Cursor = styled.div`\n  position: absolute;\n  z-index: 999;\n  top: 0;\n  left: 0;\n  width: 25px;\n  height: 25px;\n  background: black;\n  border-radius: 100%;\n  user-select: none;\n  transform: ${props => `translate3d(${props.x}px,${props.y}px,0)`};\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`;\n\nconst Aim = styled.div`\n  position: relative;\n  width: 15px;\n  height: 15px;\n  margin: 0 auto;\n  border-radius: 100%;\n  background: #9999ff;\n`;\n\nconst Screen = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  position: relative;\n  width: calc(100% - 80px);\n  height: calc(100% - 80px);\n\n  border-radius: 8px;\n  box-sizing: border-box;\n`;\n\nconst RootStyled = styled.div`\n  position: relative;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst Question = styled.div`\nfont-size: 50px;\ncolor: white;\npadding: 30px;\n`\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}